(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{159:function(e,t,n){"use strict";var o=n(92),i=n(93),r=n(97),a=n(94),c=n(96),s=n(0),l=n.n(s),u=n(323),d=n(324),f=n(208),p=function(e){function t(e){var n;Object(o.a)(this,t);return(n=Object(r.a)(this,Object(a.a)(t).call(this,e))).state={logo:"T2WML GUI",version:"v1.5 (beta)",homeUrl:"http://localhost:5000/"},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.logo,n=e.version,o=e.homeUrl,i=l.a.createElement(u.a,{style:{width:"fit-content"}},l.a.createElement("span",{className:"text-left"},"Table to Wikidata",l.a.createElement("br",null),"Mapping Language"));return l.a.createElement("span",null,l.a.createElement(d.a,{overlay:i,placement:"bottom",trigger:"hover"},l.a.createElement(f.a.Brand,{className:"pl-2",style:{cursor:"pointer",fontWeight:"bold"},onClick:function(){window.location.href=o}},t)),l.a.createElement(f.a.Text,{className:"pr-2",style:{cursor:"default"}},n))}}]),t}(l.a.Component);t.a=p},160:function(e,t,n){"use strict";n.d(t,"a",function(){return o});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},170:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var o="http://localhost:5000",i="https://dsbox02.isi.edu:8888/bigdata/namespace/wdq/sparql"},210:function(e,t,n){},450:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return o={},t.m=n=[function(t){t.exports=e},function(e,t,n){e.exports=n(2)()},function(e,t,n){"use strict";function o(){}function i(){}var r=n(3);i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n}},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return h.a.createElement("div",{style:{marginRight:10,background:e.active?"#eee":"#fff",padding:10,borderRadius:2}},h.a.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("g",{fill:"#000",fillRule:"evenodd"},h.a.createElement("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),h.a.createElement("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),h.a.createElement("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),h.a.createElement("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),h.a.createElement("path",{fill:"none",d:"M0 0h18v18H0z"}))))}function f(e){return h.a.createElement("span",{style:{paddingRight:10,fontWeight:500,paddingLeft:e.icon?0:10,paddingTop:10,paddingBottom:10}},e.children)}function p(e,t,n,o,i){var r=e.getElementsByTagName(t)[0],a=r,c=r;(c=e.createElement(t)).id=n,c.src=o,a&&a.parentNode?a.parentNode.insertBefore(c,a):e.head.appendChild(c),c.onload=i}n.r(t);var g=n(0),h=n.n(g),b=(n(1),function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}(this,i(e).call(this,t))).signIn=n.signIn.bind(r(n)),n.enableButton=n.enableButton.bind(r(n)),n.state={disabled:!0,hovered:!1,active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(e,g.Component),function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.clientId,o=t.cookiePolicy,i=t.loginHint,r=t.hostedDomain,a=t.autoLoad,c=t.isSignedIn,s=t.fetchBasicProfile,l=t.redirectUri,u=t.discoveryDocs,d=t.onFailure,f=t.uxMode,g=t.scope,h=t.accessType,b=t.responseType;p(document,"script","google-login",t.jsSrc,function(){var t={client_id:n,cookie_policy:o,login_hint:i,hosted_domain:r,fetch_basic_profile:s,discoveryDocs:u,ux_mode:f,redirect_uri:l,scope:g,access_type:h};"code"===b&&(t.access_type="offline"),window.gapi.load("auth2",function(){e.enableButton(),window.gapi.auth2.getAuthInstance()||window.gapi.auth2.init(t).then(function(t){c&&t.isSignedIn.get()&&e.handleSigninSuccess(t.currentUser.get())},function(e){return d(e)}),a&&e.signIn()})})}},{key:"componentWillUnmount",value:function(){this.enableButton=function(){};try{var e=document.getElementById("google-login");e.parentNode.removeChild(e)}catch(e){}}},{key:"enableButton",value:function(){this.setState({disabled:!1})}},{key:"signIn",value:function(e){var t=this;if(e&&e.preventDefault(),!this.state.disabled){var n=window.gapi.auth2.getAuthInstance(),o=this.props,i=o.onSuccess,r=o.onFailure,a=o.responseType,c={prompt:o.prompt};(0,o.onRequest)(),"code"===a?n.grantOfflineAccess(c).then(function(e){return i(e)},function(e){return r(e)}):n.signIn(c).then(function(e){return t.handleSigninSuccess(e)},function(e){return r(e)})}}},{key:"handleSigninSuccess",value:function(e){var t=e.getBasicProfile(),n=e.getAuthResponse();e.googleId=t.getId(),e.tokenObj=n,e.tokenId=n.id_token,e.accessToken=n.access_token,e.profileObj={googleId:t.getId(),imageUrl:t.getImageUrl(),email:t.getEmail(),name:t.getName(),givenName:t.getGivenName(),familyName:t.getFamilyName()},this.props.onSuccess(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tag,o=t.type,i=t.className,r=t.disabledStyle,a=t.buttonText,c=t.children,s=t.render,l=t.theme,u=t.icon,p=this.state.disabled||this.props.disabled;if(s)return s({onClick:this.signIn,disabled:p});var g={backgroundColor:"dark"===l?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===l?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},b={cursor:"pointer",backgroundColor:"dark"===l?"#3367D6":"#eee",color:"dark"===l?"#fff":"rgba(0, 0, 0, .54)",opacity:1},y=p?Object.assign({},g,r):e.state.active?Object.assign({},g,b):e.state.hovered?Object.assign({},g,{cursor:"pointer",opacity:.9}):g;return h.a.createElement(n,{onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1,active:!1})},onMouseDown:function(){return e.setState({active:!0})},onMouseUp:function(){return e.setState({active:!1})},onClick:this.signIn,style:y,type:o,disabled:p,className:i},[u&&h.a.createElement(d,{key:1,active:this.state.active}),h.a.createElement(f,{icon:u,key:2},c||a)])}}]),e}());b.defaultProps={type:"button",tag:"button",buttonText:"Sign in with Google",scope:"profile email",accessType:"online",prompt:"",cookiePolicy:"single_host_origin",fetchBasicProfile:!0,isSignedIn:!1,uxMode:"popup",disabledStyle:{opacity:.6},icon:!0,theme:"light",onRequest:function(){},jsSrc:"https://apis.google.com/js/api.js"};var y=b,m=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?l(e):t}(this,s(e).call(this,t))).signOut=n.signOut.bind(l(n)),n.enableButton=n.enableButton.bind(l(n)),n.state={disabled:!0,hovered:!1,active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,g.Component),function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onFailure,o=t.isSignedIn,i=t.clientId,r=t.cookiePolicy,a=t.loginHint,c=t.hostedDomain,s=t.fetchBasicProfile,l=t.discoveryDocs,u=t.uxMode,d=t.redirectUri,f=t.scope,g=t.accessType;p(document,"script","google-login",t.jsSrc,function(){var t={client_id:i,cookie_policy:r,login_hint:a,hosted_domain:c,fetch_basic_profile:s,discoveryDocs:l,ux_mode:u,redirect_uri:d,scope:f,access_type:g};window.gapi.load("auth2",function(){e.enableButton(),window.gapi.auth2.getAuthInstance()||window.gapi.auth2.init(t).then(function(t){o&&t.isSignedIn.get()&&e.handleSigninSuccess(t.currentUser.get())},function(e){return n(e)})})})}},{key:"componentWillUnmount",value:function(){this.enableButton=function(){};try{var e=document.getElementById("google-login");e.parentNode.removeChild(e)}catch(e){}}},{key:"enableButton",value:function(){this.setState({disabled:!1})}},{key:"signOut",value:function(){if(window.gapi){var e=window.gapi.auth2.getAuthInstance();null!=e&&e.signOut().then(e.disconnect().then(this.props.onLogoutSuccess))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.tag,o=t.type,i=t.className,r=t.disabledStyle,a=t.buttonText,c=t.children,s=t.render,l=t.theme,u=t.icon,p=this.state.disabled||this.props.disabled;if(s)return s({onClick:this.signOut,disabled:p});var g={backgroundColor:"dark"===l?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===l?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},b={cursor:"pointer",backgroundColor:"dark"===l?"#3367D6":"#eee",color:"dark"===l?"#fff":"rgba(0, 0, 0, .54)",opacity:1},y=p?Object.assign({},g,r):e.state.active?Object.assign({},g,b):e.state.hovered?Object.assign({},g,{cursor:"pointer",opacity:.9}):g;return h.a.createElement(n,{onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1,active:!1})},onMouseDown:function(){return e.setState({active:!0})},onMouseUp:function(){return e.setState({active:!1})},onClick:this.signOut,style:y,type:o,disabled:p,className:i},[u&&h.a.createElement(d,{key:1,active:this.state.active}),h.a.createElement(f,{icon:u,key:2},c||a)])}}]),e}();m.defaultProps={type:"button",tag:"button",buttonText:"Logout of Google",disabledStyle:{opacity:.6},icon:!0,theme:"light",jsSrc:"https://apis.google.com/js/api.js"};var v=m;n.d(t,"default",function(){return y}),n.d(t,"GoogleLogin",function(){return y}),n.d(t,"GoogleLogout",function(){return v})}],t.c=o,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4);function t(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n,o}(n(0))},470:function(e,t,n){e.exports=n(653)},471:function(e,t,n){},653:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(54),a=n.n(r),c=(n(210),n(92)),s=n(93),l=n(97),u=n(94),d=n(96),f=(n(471),n(170)),p=n(159),g=n(114),h={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},b=n(208),y=n(668),m=n(308),v=n(450),w="background: ; color: ",k="background: white; color: blue",S=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e)),window.server=f.a,n.state={},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onGoogleFailure",value:function(e){console.log(e),alert("Login failed!\n\nError: "+e.error)}},{key:"onGoogleSuccess",value:function(e){console.log("<App> -> %c/login%c to verify id_token",k,w);var t=new FormData;t.append("source","Google"),t.append("token",e.getAuthResponse().id_token),fetch(window.server+"/login",{mode:"cors",body:t,method:"POST"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(e){return e.json()}).then(function(e){console.log("<App> <- %c/login%c with:",k,w),console.log(e),e.vs?window.location.href=window.server+"/project":alert("Login failed!\n\nError: "+e.error)}).catch(function(e){console.log(e),alert("Login failed!\n\n"+e)})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(b.a,{className:"shadow",bg:"dark",variant:"dark",sticky:"top",style:{height:"50px"}},i.a.createElement(p.a,null))),i.a.createElement("div",{style:{height:"calc(100vh - 50px)",background:"#f8f9fa",paddingTop:"20px"}},i.a.createElement(y.a,{className:"shadow-sm",style:{width:"90%",maxWidth:"400px",height:"",margin:"0 auto"}},i.a.createElement(y.a.Header,{style:{height:"40px",padding:"0.5rem 1rem",background:"#343a40"}},i.a.createElement("div",{className:"text-white font-weight-bold d-inline-block text-truncate",style:{width:"100%",cursor:"default"}},"Welcome")),i.a.createElement(y.a.Body,{style:{padding:"10% 10%",overflowY:"auto"}},i.a.createElement(m.a,{variant:"outline-dark",style:{width:"100%",marginBottom:"10%"},disabled:!0},i.a.createElement("span",{style:{width:"90%",display:"inline-block",fontWeight:"bold"}},"Continue as a visitor")),i.a.createElement(v.GoogleLogin,{clientId:"552769010846-tpv08vhddblg96b42nh6ltg36j41pln1.apps.googleusercontent.com",render:function(e){return i.a.createElement(m.a,{variant:"success",style:{width:"100%"},onClick:e.onClick,disabled:e.disabled},i.a.createElement(g.a,{icon:h}),i.a.createElement("span",{style:{width:"90%",display:"inline-block",fontWeight:"bold"}},"Log in with Google"))},buttonText:"Login",onSuccess:this.onGoogleSuccess.bind(this),onFailure:this.onGoogleFailure.bind(this),cookiePolicy:"single_host_origin"})))))}}]),t}(i.a.Component),O=n(160);a.a.render(i.a.createElement(S,null),document.getElementById("root")),O.a()}},[[470,8,0,1]]]);
//# sourceMappingURL=login.af3daf85.chunk.js.map